> # مكتبة المكونات

> 

> يقوم هذا المستند بفهرسة جميع مكونات واجهة المستخدم القابلة لإعادة الاستخدام في منصة راصد الوطنية، منظمة حسب الفئة. يتضمن كل إدخال غرض المكون، وواجهة الخصائص (props)، وإدارة الحالة، والأحداث الصادرة.

> 

> ## 1. مكونات التطبيق المخصصة

> 

> ### 1.1. AnimatedCounter

> 

> | الخاصية | القيمة |

> | :--- | :--- |

> | **مسار الملف** | `client/src/components/AnimatedCounter.tsx` |

> | **الوصف** | يعرض رقمًا يتحرك من 0 إلى قيمة مستهدفة عند التمرير إليه |

> 

> | الخاصية | النوع | مطلوب | الوصف |

> | :--- | :--- | :--- | :--- |

> | `end` | `number` | نعم | الرقم المستهدف للعد إليه |

> | `duration` | `number` | لا | مدة الرسوم المتحركة بالمللي ثانية (الافتراضي: 2000) |

> | `prefix` | `string` | لا | نص معروض قبل الرقم |

> | `suffix` | `string` | لا | نص معروض بعد الرقم |

> 

> **الحالة:** حالة `count` داخلية متحركة عبر `requestAnimationFrame`. يستخدم Intersection Observer لتشغيل الرسوم المتحركة عند الظهور.

> 

> ### 1.2. BookmarkButton

> 

> | الخاصية | القيمة |

> | :--- | :--- |

> | **مسار الملف** | `client/src/components/BookmarkButton.tsx` |

> | **الوصف** | زر تبديل يسمح للمستخدمين المصادق عليهم بوضع إشارة مرجعية على عناصر المحتوى |

> 

> | الخاصية | النوع | مطلوب | الوصف |

> | :--- | :--- | :--- | :--- |

> | `contentType` | `string` | نعم | نوع المحتوى (مثل "news", "video") |

> | `contentId` | `number` | نعم | معرف عنصر المحتوى |

> | `size` | `"sm" \| "md" \| "lg"` | لا | متغير حجم الزر |

> 

> **الحالة:** حالة الخادم عبر استعلام `bookmarks.isBookmarked`. تحديث متفائل عند التبديل.

> **الأحداث:** يشغل طفرة `bookmarks.toggle` ويبطل ذاكرة التخزين المؤقت `bookmarks.myBookmarks`.

> 

> ### 1.3. CommentsSection

> 

> | الخاصية | القيمة |

> | :--- | :--- |

> | **مسار الملف** | `client/src/components/CommentsSection.tsx` |

> | **الوصف** | يعرض قائمة بالتعليقات ويوفر نموذجًا لإضافة تعليقات جديدة |

> 

> | الخاصية | النوع | مطلوب | الوصف |

> | :--- | :--- | :--- | :--- |

> | `contentType` | `string` | نعم | نوع المحتوى الذي يتم التعليق عليه |

> | `contentId` | `number` | نعم | معرف عنصر المحتوى |

> 

> **الحالة:** حالة محلية لنص التعليق الجديد؛ حالة الخادم لقائمة التعليقات.

> 

> ### 1.4. ErrorBoundary

> 

> | الخاصية | القيمة |

> | :--- | :--- |

> | **مسار الملف** | `client/src/components/ErrorBoundary.tsx` |

> | **الوصف** | حدود خطأ React تلتقط أخطاء العرض وتعرض واجهة مستخدم احتياطية |

> 

> | الخاصية | النوع | مطلوب | الوصف |

> | :--- | :--- | :--- | :--- |

> | `children` | `ReactNode` | نعم | المكونات الفرعية للتغليف |

> | `fallback` | `ReactNode` | لا | واجهة مستخدم احتياطية مخصصة |

> 

> **الحالة:** `hasError: boolean`, `error: Error | null`.

> 

> ### 1.5. FloatingParticles

> 

> | الخاصية | القيمة |

> | :--- | :--- |

> | **مسار الملف** | `client/src/components/FloatingParticles.tsx` |

> | **الوصف** | يعرض تأثيرات الجسيمات العائمة كخلفية زخرفية |

> 

> | الخاصية | النوع | مطلوب | الوصف |

> | :--- | :--- | :--- | :--- |

> | `count` | `number` | لا | عدد الجسيمات (الافتراضي: 50) |

> | `color` | `string` | لا | لون الجسيمات |

> 

> ### 1.6. Footer

> 

> | الخاصية | القيمة |

> | :--- | :--- |

> | **مسار الملف** | `client/src/components/Footer.tsx` |

> | **الوصف** | تذييل التطبيق مع إشعار حقوق النشر وروابط التنقل |

> 

> لا توجد خصائص. يعرض محتوى ثابتًا مع السنة الحالية وعلامة المنصة التجارية.

> 

> ### 1.7. GuidedTour

> 

> | الخاصية | القيمة |

> | :--- | :--- |

> | **مسار الملف** | `client/src/components/GuidedTour.tsx` |

> | **الوصف** | جولة تعريفية تفاعلية تسلط الضوء على الميزات الرئيسية للمنصة |

> 

> | الخاصية | النوع | مطلوب | الوصف |

> | :--- | :--- | :--- | :--- |

> | `steps` | `TourStep[]` | نعم | مصفوفة من تعريفات خطوات الجولة |

> | `isOpen` | `boolean` | نعم | ما إذا كانت الجولة نشطة |

> | `onComplete` | `() => void` | نعم | رد الاتصال عند اكتمال الجولة |

> 

> **الحالة:** `currentStep: number`.

> 

> ### 1.8. Layout

> 

> | الخاصية | القيمة |

> | :--- | :--- |

> | **مسار الملف** | `client/src/components/Layout.tsx` |

> | **الوصف** | غلاف التخطيط الرئيسي الذي يوفر شريط التنقل ومنطقة المحتوى والتذييل |

> 

> | الخاصية | النوع | مطلوب | الوصف |

> | :--- | :--- | :--- | :--- |

> | `children` | `ReactNode` | نعم | محتوى الصفحة |

> 

> ### 1.9. LikeButton

> 

> | الخاصية | القيمة |

> | :--- | :--- |

> | **مسار الملف** | `client/src/components/LikeButton.tsx` |

> | **الوصف** | زر تبديل على شكل قلب للإعجاب بعناصر المحتوى |

> 

> | الخاصية | النوع | مطلوب | الوصف |

> | :--- | :--- | :--- | :--- |

> | `contentType` | `string` | نعم | نوع المحتوى |

> | `contentId` | `number` | نعم | معرف عنصر المحتوى |

> | `initialCount` | `number` | لا | عدد الإعجابات الأولي |

> 

> ### 1.10. MediaViewer

> 

> | الخاصية | القيمة |

> | :--- | :--- |

> | **مسار الملف** | `client/src/components/MediaViewer.tsx` |

> | **الوصف** | تراكب مشروط لعرض الصور ومقاطع الفيديو مع عناصر تحكم في التكبير والتنزيل |

> 

> | الخاصية | النوع | مطلوب | الوصف |

> | :--- | :--- | :--- | :--- |

> | `media` | `MediaItem` | نعم | عنصر الوسائط المراد عرضه |

> | `isOpen` | `boolean` | نعم | حالة رؤية النافذة المشروطة |

> | `onClose` | `() => void` | نعم | معالج الإغلاق |

> | `onNext` | `() => void` | لا | الانتقال إلى العنصر التالي |

> | `onPrevious` | `() => void` | لا | الانتقال إلى العنصر السابق |

> 

> ### 1.11. Navbar

> 

> | الخاصية | القيمة |

> | :--- | :--- |

> | **مسار الملف** | `client/src/components/Navbar.tsx` |

> | **الوصف** | شريط التنقل الأساسي مع قائمة متجاوبة ومعلومات المستخدم ومحول السمة |

> 

> لا توجد خصائص خارجية. يستهلك استعلام `auth.me` و `ThemeContext`.

> 

> ### 1.12. NotificationBell

> 

> | الخاصية | القيمة |

> | :--- | :--- |

> | **مسار الملف** | `client/src/components/NotificationBell.tsx` |

> | **الوصف** | أيقونة جرس مع شارة عدد الإشعارات غير المقروءة وقائمة منسدلة |

> 

> لا توجد خصائص خارجية. يستهلك استعلامات `notifications.unreadCount` و `notifications.list`.

> 

> ### 1.13. PageTransition

> 

> | الخاصية | القيمة |

> | :--- | :--- |

> | **مسار الملف** | `client/src/components/PageTransition.tsx` |

> | **الوصف** | يغلف محتوى الصفحة برسوم متحركة للدخول/الخروج من Framer Motion |

> 

> | الخاصية | النوع | مطلوب | الوصف |

> | :--- | :--- | :--- | :--- |

> | `children` | `ReactNode` | نعم | محتوى الصفحة للرسوم المتحركة |

> 

> ### 1.14. PdfReportButton

> 

> | الخاصية | القيمة |

> | :--- | :--- |

> | **مسار الملف** | `client/src/components/PdfReportButton.tsx` |

> | **الوصف** | زر يقوم بإنشاء وتنزيل تقرير PDF من البيانات المقدمة |

> 

> | الخاصية | النوع | مطلوب | الوصف |

> | :--- | :--- | :--- | :--- |

> | `data` | `object` | نعم | بيانات التقرير للتجميع |

> | `title` | `string` | لا | عنوان التقرير |

> | `filename` | `string` | لا | اسم الملف الذي تم تنزيله |

> 

> ### 1.15. PresentationMode / PresentationToolbar

> 

> | الخاصية | القيمة |

> | :--- | :--- |

> | **مسار الملف** | `client/src/components/PresentationMode.tsx`, `PresentationToolbar.tsx` |

> | **الوصف** | عارض عرض تقديمي بملء الشاشة مع شريط أدوات التنقل |

> 

> | الخاصية | النوع | مطلوب | الوصف |

> | :--- | :--- | :--- | :--- |

> | `slides` | `Slide[]` | نعم | مصفوفة من بيانات الشرائح |

> | `currentSlide` | `number` | نعم | فهرس الشريحة الحالي |

> | `onNavigate` | `(index: number) => void` | نعم | معالج التنقل بين الشرائح |

> | `onExit` | `() => void` | نعم | معالج الخروج من وضع ملء الشاشة |

> 

> ### 1.16. RichTextEditor

> 

> | الخاصية | القيمة |

> | :--- | :--- |

> | **مسار الملف** | `client/src/components/RichTextEditor.tsx` |

> | **الوصف** | محرر WYSIWYG كامل الميزات مبني على Tiptap لإنشاء المحتوى |

> 

> | الخاصية | النوع | مطلوب | الوصف |

> | :--- | :--- | :--- | :--- |

> | `content` | `string` | نعم | محتوى HTML الأولي |

> | `onChange` | `(html: string) => void` | نعم | معالج تغيير المحتوى |

> | `placeholder` | `string` | لا | نص نائب |

> | `editable` | `boolean` | لا | ما إذا كان التحرير ممكّنًا |

> 

> ### 1.17. ScrollProgressBar

> 

> | الخاصية | القيمة |

> | :--- | :--- |

> | **مسار الملف** | `client/src/components/ScrollProgressBar.tsx` |

> | **الوصف** | شريط تقدم ثابت في الجزء العلوي من الصفحة يشير إلى موضع التمرير |

> 

> لا توجد خصائص. يستخدم `window.scrollY` و `document.documentElement.scrollHeight` للحساب.

> 

> ### 1.18. SectionHeader

> 

> | الخاصية | القيمة |

> | :--- | :--- |

> | **مسار الملف** | `client/src/components/SectionHeader.tsx` |

> | **الوصف** | مكون رأس مصمم لأقسام الصفحة مع عنوان فرعي اختياري |

> 

> | الخاصية | النوع | مطلوب | الوصف |

> | :--- | :--- | :--- | :--- |

> | `title` | `string` | نعم | عنوان القسم |

> | `subtitle` | `string` | لا | عنوان فرعي للقسم |

> | `icon` | `LucideIcon` | لا | مكون أيقونة |

> 

> ## 2. مكونات shadcn/ui

> 

> المكونات التالية من مكتبة shadcn/ui، المبنية على بدائيات Radix UI. إنها توفر عناصر واجهة مستخدم يمكن الوصول إليها وقابلة للتخصيص ومراعية للسمات.

> 

> | المكون | الملف | البدائية الأساسية | الوصف |

> | :--- | :--- | :--- | :--- |

> | **Avatar** | `ui/avatar.tsx` | `@radix-ui/react-avatar` | صورة رمزية للمستخدم مع صورة وأحرف أولى احتياطية |

> | **Badge** | `ui/badge.tsx` | أصلي | شارة حالة مع تصميم متغير (افتراضي، ثانوي، مدمر، مخطط) |

> | **Button** | `ui/button.tsx` | أصلي | زر مع متغيرات (افتراضي، مدمر، مخطط، ثانوي، شبح، رابط) وأحجام (افتراضي، sm، lg، أيقونة) |

> | **Card** | `ui/card.tsx` | أصلي | بطاقة محتوى مع مكونات فرعية للرأس والعنوان والوصف والمحتوى والتذييل |

> | **Checkbox** | `ui/checkbox.tsx` | `@radix-ui/react-checkbox` | مربع اختيار يمكن الوصول إليه مع دعم الحالة غير المحددة |

> | **Dialog** | `ui/dialog.tsx` | `@radix-ui/react-dialog` | حوار مشروط مع تراكب وعنوان ووصف وزر إغلاق |

> | **DropdownMenu** | `ui/dropdown-menu.tsx` | `@radix-ui/react-dropdown-menu` | قائمة منسدلة مع عناصر وفواصل وقوائم فرعية |

> | **Input** | `ui/input.tsx` | أصلي | إدخال نص مصمم مع تحجيم وحالات تركيز متسقة |

> | **Label** | `ui/label.tsx` | `@radix-ui/react-label` | تسمية نموذج مع سمات إمكانية وصول مناسبة |

> | **Popover** | `ui/popover.tsx` | `@radix-ui/react-popover` | لوحة منبثقة عائمة مثبتة على عنصر مشغل |

> | **ScrollArea** | `ui/scroll-area.tsx` | `@radix-ui/react-scroll-area` | حاوية شريط تمرير مخصصة مع تناسق عبر المتصفحات |

> | **Select** | `ui/select.tsx` | `@radix-ui/react-select` | تحديد منسدل مع بحث ومجموعات وعرض مخصص |

> | **Separator** | `ui/separator.tsx` | `@radix-ui/react-separator` | خط فاصل أفقي أو عمودي |

> | **Sheet** | `ui/sheet.tsx` | `@radix-ui/react-dialog` | لوحة جانبية (درج) تنزلق من اليسار أو اليمين أو الأعلى أو الأسفل |

> | **Sonner** | `ui/sonner.tsx` | `sonner` | حاوية إشعارات منبثقة مع تكديس وإغلاق تلقائي |

> | **Switch** | `ui/switch.tsx` | `@radix-ui/react-switch` | مفتاح تبديل للإعدادات المنطقية |

> | **Tabs** | `ui/tabs.tsx` | `@radix-ui/react-tabs` | تنقل بعلامات تبويب مع لوحات محتوى |

> | **Textarea** | `ui/textarea.tsx` | أصلي | إدخال نص متعدد الأسطر مع إمكانية تغيير الحجم التلقائي |

> | **Tooltip** | `ui/tooltip.tsx` | `@radix-ui/react-tooltip` | تلميح عند التمرير مع تأخير وتحديد موضع قابلين للتكوين |

> 

> ## 3. مكونات الرسوم المتحركة

> 

> | المكون | الملف | الوصف |

> | :--- | :--- | :--- |

> | **AnimatedCounter** | `animations/AnimatedCounter.tsx` | عداد أرقام مع رسوم متحركة ميسرة |

> | **KineticText** | `animations/KineticText.tsx` | تأثيرات رسوم متحركة للنص حرفًا بحرف |

> | **MicroInteractions** | `animations/MicroInteractions.tsx` | رسوم متحركة صغيرة الحجم للتغذية الراجعة عند التمرير والنقر |

> | **ParticleBackground** | `animations/ParticleBackground.tsx` | نظام جسيمات عائمة قائم على Canvas |

> | **ScrollReveal** | `animations/ScrollReveal.tsx` | رسوم متحركة للكشف عند التمرير تستند إلى Intersection Observer |

> 

